(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{b2BU:function(t,e,o){"use strict";o.r(e),o.d(e,"BooksModule",(function(){return Qt}));var n=o("ofXK"),r=o("tyNb"),s=o("l7P3"),a=o("9jGm"),i=o("Wp6s"),c=o("3Pt+"),d=o("qFsG"),l=o("fXoL"),m=o("FKr1"),p=o("8LU1"),f=o("nLfN"),b=o("R1ws");function h(t,e){if(1&t&&(l.ec(),l.Pb(0,"circle",3)),2&t){const t=l.fc();l.vc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),l.Db("r",t._getCircleRadius())}}function g(t,e){if(1&t&&(l.ec(),l.Pb(0,"circle",3)),2&t){const t=l.fc();l.vc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),l.Db("r",t._getCircleRadius())}}function u(t,e){if(1&t&&(l.ec(),l.Pb(0,"circle",3)),2&t){const t=l.fc();l.vc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),l.Db("r",t._getCircleRadius())}}function k(t,e){if(1&t&&(l.ec(),l.Pb(0,"circle",3)),2&t){const t=l.fc();l.vc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),l.Db("r",t._getCircleRadius())}}class y{constructor(t){this._elementRef=t}}const w=Object(m.i)(y,"primary"),v=new l.q("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let _=(()=>{class t extends w{constructor(e,o,n,r,s){super(e),this._elementRef=e,this._document=n,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const a=t._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),a.has(n.head)||a.set(n.head,new Set([100])),this._fallbackAnimation=o.EDGE||o.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Object(p.c)(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Object(p.c)(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Object(p.c)(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=Object(f.c)(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,o=this._diameter,n=t._diameters;let r=n.get(e);if(!r||!r.has(o)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),t.textContent=this._getAnimationText(),e.appendChild(t),r||(r=new Set,n.set(e,r)),r.add(o)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,""+this._spinnerAnimationLabel)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(l.l),l.Ob(f.a),l.Ob(n.e,8),l.Ob(b.a,8),l.Ob(v))},t.\u0275cmp=l.Ib({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(l.Db("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),l.vc("width",e.diameter,"px")("height",e.diameter,"px"),l.Fb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[l.zb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(l.ec(),l.Ub(0,"svg",0),l.wc(1,h,1,9,"circle",1),l.wc(2,g,1,7,"circle",2),l.Tb()),2&t&&(l.vc("width",e.diameter,"px")("height",e.diameter,"px"),l.lc("ngSwitch","indeterminate"===e.mode),l.Db("viewBox",e._getViewBox()),l.Cb(1),l.lc("ngSwitchCase",!0),l.Cb(1),l.lc("ngSwitchCase",!1))},directives:[n.m,n.n],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),C=(()=>{class t extends _{constructor(t,e,o,n,r){super(t,e,o,n,r),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(l.l),l.Ob(f.a),l.Ob(n.e,8),l.Ob(b.a,8),l.Ob(v))},t.\u0275cmp=l.Ib({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(l.vc("width",e.diameter,"px")("height",e.diameter,"px"),l.Fb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[l.zb],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(l.ec(),l.Ub(0,"svg",0),l.wc(1,u,1,9,"circle",1),l.wc(2,k,1,7,"circle",2),l.Tb()),2&t&&(l.vc("width",e.diameter,"px")("height",e.diameter,"px"),l.lc("ngSwitch","indeterminate"===e.mode),l.Db("viewBox",e._getViewBox()),l.Cb(1),l.lc("ngSwitchCase",!0),l.Cb(1),l.lc("ngSwitchCase",!1))},directives:[n.m,n.n],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t})(),x=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},imports:[[m.b,n.c],m.b]}),t})(),O=(()=>{class t{transform(t){if(!t)return"Author Unknown";switch(t.length){case 0:return"Author Unknown";case 1:return t[0];case 2:return t.join(" and ");default:const e=t[t.length-1];return`${t.slice(0,-1).join(", ")}, and ${e}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Nb({name:"bcAddCommas",type:t,pure:!0}),t})(),A=(()=>{class t{get authors(){return this.book.volumeInfo.authors}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Ib({type:t,selectors:[["bc-book-authors"]],inputs:{book:"book"},decls:5,vars:3,consts:[["md-subheader",""]],template:function(t,e){1&t&&(l.Ub(0,"h5",0),l.xc(1,"Written By:"),l.Tb(),l.Ub(2,"span"),l.xc(3),l.gc(4,"bcAddCommas"),l.Tb()),2&t&&(l.Cb(3),l.zc(" ",l.hc(4,1,e.authors)," "))},pipes:[O],styles:["h5[_ngcontent-%COMP%] {\n      margin-bottom: 5px;\n    }"]}),t})();function j(t,e){if(1&t&&(l.Ub(0,"mat-card-subtitle"),l.xc(1),l.Tb()),2&t){const t=l.fc(2);l.Cb(1),l.yc(t.subtitle)}}function S(t,e){if(1&t&&l.Pb(0,"img",8),2&t){const t=l.fc(2);l.lc("src",t.thumbnail,l.rc)}}function T(t,e){if(1&t){const t=l.Vb();l.Ub(0,"button",9),l.cc("click",(function(){l.pc(t);const e=l.fc(2);return e.remove.emit(e.book)})),l.xc(1," Remove Book from Collection "),l.Tb()}}function B(t,e){if(1&t){const t=l.Vb();l.Ub(0,"button",10),l.cc("click",(function(){l.pc(t);const e=l.fc(2);return e.add.emit(e.book)})),l.xc(1," Add Book to Collection "),l.Tb()}}function I(t,e){if(1&t&&(l.Ub(0,"mat-card"),l.Ub(1,"mat-card-title-group"),l.Ub(2,"mat-card-title"),l.xc(3),l.Tb(),l.wc(4,j,2,1,"mat-card-subtitle",0),l.wc(5,S,1,1,"img",1),l.Tb(),l.Ub(6,"mat-card-content"),l.Pb(7,"p",2),l.Tb(),l.Ub(8,"mat-card-footer",3),l.Pb(9,"bc-book-authors",4),l.Tb(),l.Ub(10,"mat-card-actions",5),l.wc(11,T,2,0,"button",6),l.wc(12,B,2,0,"button",7),l.Tb(),l.Tb()),2&t){const t=l.fc();l.Cb(3),l.yc(t.title),l.Cb(1),l.lc("ngIf",t.subtitle),l.Cb(1),l.lc("ngIf",t.thumbnail),l.Cb(2),l.lc("innerHtml",t.description,l.qc),l.Cb(2),l.lc("book",t.book),l.Cb(2),l.lc("ngIf",t.inCollection),l.Cb(1),l.lc("ngIf",!t.inCollection)}}let U=(()=>{class t{constructor(){this.add=new l.n,this.remove=new l.n}get id(){return this.book.id}get title(){return this.book.volumeInfo.title}get subtitle(){return this.book.volumeInfo.subtitle}get description(){return this.book.volumeInfo.description}get thumbnail(){return this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Ib({type:t,selectors:[["bc-book-detail"]],inputs:{book:"book",inCollection:"inCollection"},outputs:{add:"add",remove:"remove"},decls:1,vars:1,consts:[[4,"ngIf"],["md-card-sm-image","",3,"src",4,"ngIf"],[3,"innerHtml"],[1,"footer"],[3,"book"],["align","start"],["md-raised-button","","color","warn",3,"click",4,"ngIf"],["md-raised-button","","color","primary",3,"click",4,"ngIf"],["md-card-sm-image","",3,"src"],["md-raised-button","","color","warn",3,"click"],["md-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&l.wc(0,I,13,7,"mat-card",0),2&t&&l.lc("ngIf",e.book)},directives:[n.l,i.a,i.h,i.g,i.c,i.d,A,i.b,i.f],styles:["[_nghost-%COMP%] {\n      display: flex;\n      justify-content: center;\n      margin: 75px 0;\n    }\n    md-card[_ngcontent-%COMP%] {\n      max-width: 600px;\n    }\n    md-card-title-group[_ngcontent-%COMP%] {\n      margin-left: 0;\n    }\n    img[_ngcontent-%COMP%] {\n      width: 60px;\n      min-width: 60px;\n      margin-left: 5px;\n    }\n    md-card-content[_ngcontent-%COMP%] {\n      margin: 15px 0 50px;\n    }\n    md-card-actions[_ngcontent-%COMP%] {\n      margin: 25px 0 0 !important;\n    }\n    md-card-footer[_ngcontent-%COMP%] {\n      padding: 0 25px 25px;\n      position: relative;\n    }"]}),t})(),L=(()=>{class t{transform(t,e=250){const o=t.replace(/(<([^>]+)>)/gi,"");return t.length>=e?o.slice(0,e)+"...":o}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Nb({name:"bcEllipsis",type:t,pure:!0}),t})();function P(t,e){if(1&t&&l.Pb(0,"img",4),2&t){const t=l.fc();l.lc("src",t.thumbnail,l.rc)}}function M(t,e){if(1&t&&(l.Ub(0,"mat-card-subtitle"),l.xc(1),l.gc(2,"bcEllipsis"),l.Tb()),2&t){const t=l.fc();l.Cb(1),l.yc(l.ic(2,1,t.subtitle,40))}}function E(t,e){if(1&t&&(l.Ub(0,"p"),l.xc(1),l.gc(2,"bcEllipsis"),l.Tb()),2&t){const t=l.fc();l.Cb(1),l.yc(l.hc(2,1,t.description))}}const $=function(t){return["/books",t]};let D=(()=>{class t{get id(){return this.book.id}get title(){return this.book.volumeInfo.title}get subtitle(){return this.book.volumeInfo.subtitle}get description(){return this.book.volumeInfo.description}get thumbnail(){return!!this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Ib({type:t,selectors:[["bc-book-preview"]],inputs:{book:"book"},decls:12,vars:11,consts:[[3,"routerLink"],["md-card-sm-image","",3,"src",4,"ngIf"],[4,"ngIf"],[3,"book"],["md-card-sm-image","",3,"src"]],template:function(t,e){1&t&&(l.Ub(0,"a",0),l.Ub(1,"mat-card"),l.Ub(2,"mat-card-title-group"),l.wc(3,P,1,1,"img",1),l.Ub(4,"mat-card-title"),l.xc(5),l.gc(6,"bcEllipsis"),l.Tb(),l.wc(7,M,3,4,"mat-card-subtitle",2),l.Tb(),l.Ub(8,"mat-card-content"),l.wc(9,E,3,3,"p",2),l.Tb(),l.Ub(10,"mat-card-footer"),l.Pb(11,"bc-book-authors",3),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.lc("routerLink",l.mc(9,$,e.id)),l.Cb(3),l.lc("ngIf",e.thumbnail),l.Cb(2),l.yc(l.ic(6,6,e.title,35)),l.Cb(2),l.lc("ngIf",e.subtitle),l.Cb(2),l.lc("ngIf",e.description),l.Cb(2),l.lc("book",e.book))},directives:[r.h,i.a,i.h,n.l,i.g,i.c,i.d,A,i.f],pipes:[L],styles:["md-card[_ngcontent-%COMP%] {\n      width: 400px;\n      height: 300px;\n      margin: 15px;\n    }\n    @media only screen and (max-width: 768px) {\n      md-card[_ngcontent-%COMP%] {\n        margin: 15px 0 !important;\n      }\n    }\n    md-card[_ngcontent-%COMP%]:hover {\n      box-shadow: 3px 3px 16px -2px rgba(0, 0, 0, .5);\n    }\n    md-card-title[_ngcontent-%COMP%] {\n      margin-right: 10px;\n    }\n    md-card-title-group[_ngcontent-%COMP%] {\n      margin: 0;\n    }\n    a[_ngcontent-%COMP%] {\n      color: inherit;\n      text-decoration: none;\n    }\n    img[_ngcontent-%COMP%] {\n      width: 60px;\n      min-width: 60px;\n      margin-left: 5px;\n    }\n    md-card-content[_ngcontent-%COMP%] {\n      margin-top: 15px;\n      margin: 15px 0 0;\n    }\n    span[_ngcontent-%COMP%] {\n      display: inline-block;\n      font-size: 13px;\n    }\n    md-card-footer[_ngcontent-%COMP%] {\n      padding: 0 25px 25px;\n    }"]}),t})();function R(t,e){1&t&&l.Pb(0,"bc-book-preview",1),2&t&&l.lc("book",e.$implicit)}let X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Ib({type:t,selectors:[["bc-book-preview-list"]],inputs:{books:"books"},decls:1,vars:1,consts:[[3,"book",4,"ngFor","ngForOf"],[3,"book"]],template:function(t,e){1&t&&l.wc(0,R,1,1,"bc-book-preview",0),2&t&&l.lc("ngForOf",e.books)},directives:[n.k,D],styles:["[_nghost-%COMP%] {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: center;\n    }"]}),t})();var V=o("HDdC"),F=o("D0XW"),W=o("Kj3r");V.a.prototype.debounceTime=function(t,e=F.a){return Object(W.a)(t,e)(this)},o("AJX/");var N=o("/uUt");V.a.prototype.distinctUntilChanged=function(t,e){return Object(N.a)(t,e)(this)};var q=o("kmnG");let Y=(()=>{class t{constructor(){this.query="",this.searching=!1,this.search=new l.n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Ib({type:t,selectors:[["bc-book-search"]],inputs:{query:"query",searching:"searching"},outputs:{search:"search"},decls:7,vars:3,consts:[["mdInput","","placeholder","Search for a book",3,"value","keyup"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card"),l.Ub(1,"mat-card-title"),l.xc(2,"Find a Book"),l.Tb(),l.Ub(3,"mat-card-content"),l.Ub(4,"mat-form-field"),l.Ub(5,"input",0),l.cc("keyup",(function(t){return e.search.emit(t.target.value)})),l.Tb(),l.Tb(),l.Pb(6,"mat-spinner"),l.Tb(),l.Tb()),2&t&&(l.Cb(5),l.lc("value",e.query),l.Cb(1),l.Fb("show",e.searching))},directives:[i.a,i.g,i.c,q.b,C],styles:["md-card-title[_ngcontent-%COMP%], md-card-content[_ngcontent-%COMP%] {\n      display: flex;\n      justify-content: center;\n    }\n\n    input[_ngcontent-%COMP%] {\n      width: 300px;\n    }\n\n    md-card-spinner[_ngcontent-%COMP%] {\n      padding-left: 60px; // Make room for the spinner\n    }\n\n    md-spinner[_ngcontent-%COMP%] {\n      width: 30px;\n      height: 30px;\n      position: relative;\n      top: 10px;\n      left: 10px;\n      opacity: 0.0;\n    }\n\n    md-spinner.show[_ngcontent-%COMP%] {\n      opacity: 1.0;\n    }"]}),t})(),z=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)}}),t})(),K=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},imports:[[n.c,c.p,r.i,z,i.e,d.b,x]]}),t})();var G=o("mrSG"),H=(o("tomM"),o("w/7T"),o("zP0r"));V.a.prototype.skip=function(t){return Object(H.a)(t)(this)};var J=o("1G5W");V.a.prototype.takeUntil=function(t){return Object(J.a)(t)(this)};var Q=o("EY2u"),Z=o("Kxyj");const tt="[Book] Search";class et{constructor(t){this.payload=t,this.type=tt}}class ot{constructor(t){this.payload=t,this.type="[Book] Search Complete"}}class nt{constructor(t){this.payload=t,this.type="[Book] Load"}}class rt{constructor(t){this.payload=t,this.type="[Book] Select"}}var st=o("tk/3");let at=(()=>{class t{constructor(t){this.http=t,this.API_PATH="https://www.googleapis.com/books/v1/volumes"}searchBooks(t){return this.http.get(`${this.API_PATH}?q=${t}`).map(t=>t||[])}retrieveBook(t){return this.http.get(`${this.API_PATH}/${t}`).map(t=>t)}}return t.\u0275fac=function(e){return new(e||t)(l.Yb(st.a))},t.\u0275prov=l.Kb({token:t,factory:t.\u0275fac}),t})();const it=new l.q("Search Debounce"),ct=new l.q("Search Scheduler");let dt=(()=>{class t{constructor(t,e,o=300,n){this.actions$=t,this.googleBooks=e,this.debounce=o,this.scheduler=n,this.search$=this.actions$.pipe(Object(a.d)(tt)).debounceTime(this.debounce,this.scheduler||F.a).map(t=>t.payload).switchMap(t=>{if(""===t)return Object(Q.b)();const e=this.actions$.pipe(Object(a.d)(tt)).skip(1);return this.googleBooks.searchBooks(t).takeUntil(e).map(t=>new ot(t)).catch(()=>Object(Z.a)(new ot([])))})}}return t.\u0275fac=function(e){return new(e||t)(l.Yb(a.a),l.Yb(at),l.Yb(it,8),l.Yb(ct,8))},t.\u0275prov=l.Kb({token:t,factory:t.\u0275fac}),Object(G.a)([Object(a.b)()],t.prototype,"search$",void 0),t})();o("UEVY"),o("uxst");var lt=o("NXyV");const mt="[Collection] Load Success";class pt{constructor(t){this.payload=t,this.type="[Collection] Add Book"}}class ft{constructor(t){this.payload=t,this.type="[Collection] Add Book Success"}}class bt{constructor(t){this.payload=t,this.type="[Collection] Add Book Fail"}}class ht{constructor(t){this.payload=t,this.type="[Collection] Remove Book"}}class gt{constructor(t){this.payload=t,this.type="[Collection] Remove Book Success"}}class ut{constructor(t){this.payload=t,this.type="[Collection] Remove Book Fail"}}class kt{constructor(){this.type="[Collection] Load"}}class yt{constructor(t){this.payload=t,this.type=mt}}class wt{constructor(t){this.payload=t,this.type="[Collection] Load Fail"}}let vt=(()=>{class t{constructor(t){this.actions$=t,this.openDB$=Object(lt.a)(()=>[]),this.loadCollection$=this.actions$.pipe(Object(a.d)("[Collection] Load")).switchMap(()=>Object(Z.a)([]).map(t=>new yt(t)).catch(t=>Object(Z.a)(new wt(t)))),this.addBookToCollection$=this.actions$.pipe(Object(a.d)("[Collection] Add Book")).map(t=>t.payload).mergeMap(t=>Object(Z.a)({}).map(()=>new ft(t)).catch(()=>Object(Z.a)(new bt(t)))),this.removeBookFromCollection$=this.actions$.pipe(Object(a.d)("[Collection] Remove Book")).map(t=>t.payload).mergeMap(t=>Object(Z.a)({}).map(()=>new gt(t)).catch(()=>Object(Z.a)(new ut(t))))}}return t.\u0275fac=function(e){return new(e||t)(l.Yb(a.a))},t.\u0275prov=l.Kb({token:t,factory:t.\u0275fac}),Object(G.a)([Object(a.b)({dispatch:!1})],t.prototype,"openDB$",void 0),Object(G.a)([Object(a.b)()],t.prototype,"loadCollection$",void 0),Object(G.a)([Object(a.b)()],t.prototype,"addBookToCollection$",void 0),Object(G.a)([Object(a.b)()],t.prototype,"removeBookFromCollection$",void 0),t})();o("7rwD");var _t=o("pLZG");V.a.prototype.filter=function(t,e){return Object(_t.a)(t,e)(this)},o("H4X+"),o("mFlE");const Ct={ids:[],loading:!1,query:""},xt={ids:[],entities:{},selectedBookId:null},Ot=t=>t.entities,At=t=>t.ids,jt=t=>t.selectedBookId,St=Object(s.p)(Ot,jt,(t,e)=>t[e]),Tt=(Object(s.p)(Ot,At,(t,e)=>e.map(e=>t[e])),{loaded:!1,loading:!1,ids:[]}),Bt={search:function(t=Ct,e){switch(e.type){case tt:{const o=e.payload;return""===o?{ids:[],loading:!1,query:o}:Object.assign({},t,{query:o,loading:!0})}case"[Book] Search Complete":return{ids:e.payload.map(t=>t.id),loading:!1,query:t.query};default:return t}},books:function(t=xt,e){switch(e.type){case"[Book] Search Complete":case mt:{const o=e.payload.filter(e=>!t.entities[e.id]),n=o.map(t=>t.id),r=o.reduce((t,e)=>Object.assign(t,{[e.id]:e}),{});return{ids:[...t.ids,...n],entities:Object.assign({},t.entities,r),selectedBookId:t.selectedBookId}}case"[Book] Load":{const o=e.payload;return t.ids.indexOf(o.id)>-1?t:{ids:[...t.ids,o.id],entities:Object.assign({},t.entities,{[o.id]:o}),selectedBookId:t.selectedBookId}}case"[Book] Select":return{ids:t.ids,entities:t.entities,selectedBookId:e.payload};default:return t}},collection:function(t=Tt,e){switch(e.type){case"[Collection] Load":return Object.assign({},t,{loading:!0});case mt:return{loaded:!0,loading:!1,ids:e.payload.map(t=>t.id)};case"[Collection] Add Book Success":case"[Collection] Remove Book Fail":{const o=e.payload;return t.ids.indexOf(o.id)>-1?t:Object.assign({},t,{ids:[...t.ids,o.id]})}case"[Collection] Remove Book Success":case"[Collection] Add Book Fail":{const o=e.payload;return Object.assign({},t,{ids:t.ids.filter(t=>t!==o.id)})}default:return t}}},It=Object(s.o)("books"),Ut=Object(s.p)(It,t=>t.books),Lt=Object(s.p)(Ut,Ot),Pt=(Object(s.p)(Ut,At),Object(s.p)(Ut,jt)),Mt=Object(s.p)(Ut,St),Et=Object(s.p)(It,t=>t.search),$t=Object(s.p)(Et,t=>t.ids),Dt=Object(s.p)(Et,t=>t.query),Rt=Object(s.p)(Et,t=>t.loading),Xt=Object(s.p)(Lt,$t,(t,e)=>e.map(e=>t[e])),Vt=Object(s.p)(It,t=>t.collection),Ft=Object(s.p)(Vt,t=>t.loaded),Wt=(Object(s.p)(Vt,t=>t.loading),Object(s.p)(Vt,t=>t.ids)),Nt=Object(s.p)(Lt,Wt,(t,e)=>e.map(e=>t[e])),qt=Object(s.p)(Wt,Pt,(t,e)=>t.indexOf(e)>-1);let Yt=(()=>{class t{constructor(t,e,o){this.store=t,this.googleBooks=e,this.router=o}waitForCollectionToLoad(){return this.store.select(Ft).filter(t=>t).take(1)}hasBookInStore(t){return this.store.select(Lt).map(e=>!!e[t]).take(1)}hasBookInApi(t){return this.googleBooks.retrieveBook(t).map(t=>new nt(t)).do(t=>this.store.dispatch(t)).map(t=>!!t).catch(()=>(this.router.navigate(["/404"]),Object(Z.a)(!1)))}hasBook(t){return this.hasBookInStore(t).switchMap(e=>e?Object(Z.a)(e):this.hasBookInApi(t))}canActivate(t){return this.waitForCollectionToLoad().switchMap(()=>this.hasBook(t.params.id))}}return t.\u0275fac=function(e){return new(e||t)(l.Yb(s.h),l.Yb(at),l.Yb(r.f))},t.\u0275prov=l.Kb({token:t,factory:t.\u0275fac}),t})(),zt=(()=>{class t{constructor(t){this.store=t,this.searchQuery$=t.select(Dt).take(1),this.books$=t.select(Xt),this.loading$=t.select(Rt)}search(t){this.store.dispatch(new et(t))}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(s.h))},t.\u0275cmp=l.Ib({type:t,selectors:[["bc-find-book-page"]],decls:5,vars:9,consts:[[3,"query","searching","search"],[3,"books"]],template:function(t,e){1&t&&(l.Ub(0,"bc-book-search",0),l.cc("search",(function(t){return e.search(t)})),l.gc(1,"async"),l.gc(2,"async"),l.Tb(),l.Pb(3,"bc-book-preview-list",1),l.gc(4,"async")),2&t&&(l.lc("query",l.hc(1,3,e.searchQuery$))("searching",l.hc(2,5,e.loading$)),l.Cb(3),l.lc("books",l.hc(4,7,e.books$)))},directives:[Y,X],pipes:[n.b],encapsulation:2,changeDetection:0}),t})();var Kt=o("wO+i");V.a.prototype.pluck=function(...t){return Object(Kt.a)(...t)(this)};let Gt=(()=>{class t{constructor(t){this.store=t,this.book$=t.select(Mt),this.isSelectedBookInCollection$=t.select(qt)}addToCollection(t){this.store.dispatch(new pt(t))}removeFromCollection(t){this.store.dispatch(new ht(t))}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(s.h))},t.\u0275cmp=l.Ib({type:t,selectors:[["bc-selected-book-page"]],decls:3,vars:6,consts:[[3,"book","inCollection","add","remove"]],template:function(t,e){1&t&&(l.Ub(0,"bc-book-detail",0),l.cc("add",(function(t){return e.addToCollection(t)}))("remove",(function(t){return e.removeFromCollection(t)})),l.gc(1,"async"),l.gc(2,"async"),l.Tb()),2&t&&l.lc("book",l.hc(1,2,e.book$))("inCollection",l.hc(2,4,e.isSelectedBookInCollection$))},directives:[U],pipes:[n.b],encapsulation:2,changeDetection:0}),t})(),Ht=(()=>{class t{constructor(t,e){this.actionsSubscription=e.params.map(t=>new rt(t.id)).subscribe(t)}ngOnDestroy(){this.actionsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(s.h),l.Ob(r.a))},t.\u0275cmp=l.Ib({type:t,selectors:[["bc-view-book-page"]],decls:1,vars:0,template:function(t,e){1&t&&l.Pb(0,"bc-selected-book-page")},directives:[Gt],encapsulation:2,changeDetection:0}),t})(),Jt=(()=>{class t{constructor(t){this.store=t,this.books$=t.select(Nt)}ngOnInit(){this.store.dispatch(new kt)}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(s.h))},t.\u0275cmp=l.Ib({type:t,selectors:[["bc-collection-page"]],decls:5,vars:3,consts:[[3,"books"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card"),l.Ub(1,"mat-card-title"),l.xc(2,"My Collection"),l.Tb(),l.Tb(),l.Pb(3,"bc-book-preview-list",0),l.gc(4,"async")),2&t&&(l.Cb(3),l.lc("books",l.hc(4,1,e.books$)))},directives:[i.a,i.g,X],pipes:[n.b],styles:["md-card-title[_ngcontent-%COMP%] {\n      display: flex;\n      justify-content: center;\n    }"],changeDetection:0}),t})(),Qt=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},providers:[Yt,at],imports:[[n.c,i.e,K,r.i.forChild([{path:"find",component:zt},{path:":id",component:Ht,canActivate:[Yt]},{path:"",component:Jt}]),s.j.forFeature("books",Bt),a.c.forFeature([dt,vt])]]}),t})()}}]);